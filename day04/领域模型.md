####领域模型
######什么是领域模型：
 领域模型是对现实世界中对象的可视化表示或对领域内的*概念类*的可视化表示。又称概念模型、领域对象模型、分析对象模型。
 * 什么是概念类？
   概念类是思想、事物或对象。看图：(这是一张有关销售的图)
   
   ![](http://www.uml.org.cn/mxdx/images/r_01.jpg)
   
   * 最上行的是“符号”，（使用符号Sale来表示购买交易事件的概念类）表示概念类的词语或图形，
   * 中间的是“内涵：”，（Sale的可以陈述为“表示购买交易的事件，并且具有日期和时间”）是概念类的定义。
   * 最下面的是“外延”，（Sale的外延为“世界上所有销售实例的集合”）表示概念类所适用的一组示例。
 *  领域与领域模型
   俗话说，人人心中有一个Hamlet，人人心中也都有一个领域模型的定义。
   *领域: 是相对于系统而言的，是系统要解决的现实问题。 领域模型: 是对领域内的概念类或现实世界中对象的可视化表示（百度） 领域模型是针对某个特定问题的所有相关方面的抽象模型(Wikipedia)*
 *  领域模型=ER？
   领域模型是否就是ER模型呢？答案是否定的，领域模型是特定业务域业务实体关系的自然浮现，而ER是设计阶段数据库实现关系的产物。
 * 领域建模=DDD？(DDD模型驱动设计，是从需求打通到设计阶段的方法)
   暂时不讨论
 * 如何创建领域模型?
   * 一. 寻找概念类
   * 二. 将其绘制为UML类图中的类 
   * 三. 添加关联和属性   
 * 如何找到概念类？
   * 1）重用和修改现有的模型。(即百度或谷歌)：从已发布的领域模型和书籍中获得。
   * 2) *确定名词列表*:在对领域的文本性描述中识别名词和名词短语，将其作为候选的概念类或属性。
        缺点：自然语言的不精确性，不同名词短语可能表示同一概念类或属性，此外可能还有歧义。
        常见错误：把应该是概念类的事物表示为属性。
        准则：*如果我们认为某概念类X不是现实世界中的数字或文本，那么X可能是概念类而不是属性。*
        例子：考虑一下航空预定领域
        
        ![](http://www.uml.org.cn/mxdx/images/r_03.jpg)
        
        考虑一下航空预定领域,destination应该作为Flight的属性，还是作为单独的概念类Airport(由destination衍生出来)?
        *解答：* 在现实世界里，目的地机场不会被看作是数字或文本  而是一占据大规模空间的事物。
                因此，Airport应该是个概念，而不是属性。
        结论：*描述类包含描述其他事物的信息。例如，ProductDescription记录Item的价格、图片和文字描述。*        
   
        
        > 为什么使用描述类？
        假设：雀巢咖啡，大受欢迎，销售一空。这就意味着雀巢咖啡的所有Item实例都从计算机存储器中被删除。这时如果有人问：雀巢咖啡多少钱一盒？那将没法回答。因为价格是记录在实例上的，而这些实例都已经被删除。由此可以看出，需要其他事物来记录雀巢咖啡的描述（规格说明）。
        
        ![](http://www.uml.org.cn/mxdx/images/r_04.jpg)
   
        > 何时需要？
        * 1. 需要有关商品或服务的描述，独立于任何商品或服务的现有实例。
        
        * 2. 删除其所描述事物（如Item）的实例后，导致信息丢失，而这些信息是需要维护的，但是被错误地与所删除的事物关联起来。
        
        * 3. 减少冗余或重复信息。
   * 3) 使用分类列表(不建议)示例：
   
        ![](http://www.uml.org.cn/mxdx/images/r_02-1.JPG)
        ![](http://www.uml.org.cn/mxdx/images/r_02-2.jpg)
        
 * 领域模型包括  
   * 关联： 关联是类（类的实例）之间的关系
        > 何时表示关联？
        1. 如果存在需要保持一段时间的关系，将这种语义表示为关联
        2.从常见关联列表中派生的关联。
        准则：要避免在领域模型中加入太多的关联。
        
        > 在UML中如何对关联命名？:以“类名－动词短语－类名”的格式为关联命名，
        
        > 多重性:多重性定义了类A有多少个实例可以和类B的一个实例关联。
                多重性的值表示在特定时刻（而不是在某个时间跨度内）有效关联的实例数量。
           
        ![](http://www.uml.org.cn/mxdx/images/r_06.jpg)
          
        常见关联列表：
        
        ![](http://www.uml.org.cn/mxdx/images/r_08.jpg)
        
        
   * 属性:属性是对象的逻辑数据值。
        > 何时展示属性？当需求（例如，用例）建议或暗示需要*记住信息*时，引入属性。
        
        ``` 
          准则：大部分属性类型应该是“简单”数据类型，例如数字和布尔。通常，属性的类型不应该是复杂的领域概念，例如Sale或AirPort。
          
          准则：领域模型中属性的类型更应该是数据类型。
          
          准则：通过关联而不是属性来表示概念类之间的关系。
        ```
 * 实例:
   * 骰子游戏的领域模型
   * 学生成绩管理系统的领域模型